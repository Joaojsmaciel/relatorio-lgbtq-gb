library(basedosdados)
library(tidyverse)
library(bigrquery)
bq_auth()
# etapa 2:definir o ID do projeto da cobrança
basedosdados::set_billing_id(inspired-bus-461420-t4)
# etapa 2:definir o ID do projeto da cobrança
basedosdados::set_billing_id("inspired-bus-461420-t4")
# etapa 3:
query <- "
SELECT
dados.prop_homicidios_total as prop_homicidios_total,
dados.homicidios as homicidios,
dados.ano as ano,
dados.causa_obito as causa_obito
FROM `basedosdados.br_ggb_relatorio_lgbtqi.causa_obito` AS dados
"
# etapa 4:
df <- basedosdados::read_sql(query,
billing_project_id = basedosdados::get_billing_id())
View(df)
View(df)
# etapa 3:
query <- "
SELECT
dados.prop_homicidios_total as prop_homicidios_total,
dados.homicidios as homicidios,
dados.ano as ano,
dados.causa_obito as causa_obito
FROM `basedosdados.br_ggb_relatorio_lgbtqi.causa_obito` AS dados
"
# etapa 4:
df <- basedosdados::read_sql(query,
billing_project_id = basedosdados::get_billing_id())
read_sql(query, billing_project_id = get_billing_id())
# ETAPA 5:
write_csv(df, "data/CausaObito.csv")
